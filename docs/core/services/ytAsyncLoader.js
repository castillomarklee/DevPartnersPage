"use strict";app.service("YoutubeAsyncLoader",["$sce","MobileChecker",function($sce,MobileChecker){var service=this;return service.load=function(identifier){for(var youtubeVids=document.querySelectorAll(identifier),i=0;i<youtubeVids.length;i++)if(MobileChecker.isMobile())service.appendVideo(youtubeVids[i]);else{var source=$sce.trustAsResourceUrl("https://img.youtube.com/vi/"+youtubeVids[i].dataset.embed+"/sddefault.jpg"),thumbContainer=document.createElement("div");thumbContainer.className="yt-thumbnail";var image=new Image;image.src=source,thumbContainer.appendChild(image),image.addEventListener("load",void youtubeVids[i].appendChild(thumbContainer)),youtubeVids[i].addEventListener("click",function(){service.appendVideo(this)})}},service.appendVideo=function(youtubeHolder){var iframe=document.createElement("iframe");iframe.setAttribute("frameborder","0"),iframe.setAttribute("allowfullscreen",""),iframe.setAttribute("src",$sce.trustAsResourceUrl("https://www.youtube.com/embed/"+youtubeHolder.dataset.embed+"?rel=0&showinfo=0&autoplay=1")),youtubeHolder.innerHTML="",youtubeHolder.appendChild(iframe)},this}]);